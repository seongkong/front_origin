건설 도면 데이터 분석 요약 (metadata.json)
1. 데이터 계층 구조 (Hierarchy)
Root: 00 (전체 배치도)가 최상위 부모임.

1단계 (건물/구역): 01 (101동), 09 (주민공동시설), 13 (주차장) 등 공간 단위로 구분됨.

2단계 (공종/Discipline): 각 건물 아래 건축, 구조, 설비, 소방 등 전문 분야 도면이 매핑됨.

3단계 (리비전/Region): 공종 내에서도 구역(Region)이 나뉘거나 시간순 리비전(REV) 데이터가 존재함.

2. 핵심 좌표 변환 (Coordinate System)
이미지 정렬 (imageTransform):

도면을 겹쳐 보거나 상위 도면 위에 배치할 때 사용함.

x, y (앵커 포인트), scale (배율), rotation (회전량) 값을 가짐.

relativeTo를 기준으로 기준 도면과 오버레이 도면 사이의 상대적 위치를 계산해야 함.

영역 시각화 (polygon):

vertices는 상위 도면에서의 실제 영역 좌표를 px 단위로 나타냄.

polygonTransform은 해당 폴리곤을 화면에 렌더링할 때 적용하는 추가 변환값임.

3. 데이터 특이 사항 및 예외 케이스
복합 리비전 구조 (101동 구조):

하나의 도면 안에 Region A, Region B 구역이 나뉘어 있음.

구역별로 독립적인 revisions 배열을 관리하므로 개별 접근 로직 필요함.

변동형 메타데이터 (주민공동시설 건축):

리비전(REV1~REV3)이 올라갈 때마다 도면의 위치(imageTransform)와 영역(polygon)이 미세하게 달라짐.

버전 선택 시 매번 새로운 트랜스폼 값을 적용해야 함.

단순 참조 (주차장 구조):

기준 도면 자체가 공종 도면인 경우 별도의 polygon 정보가 생략되기도 함.

4. UI/UX 구현을 위한 인사이트
최신본 우선 원칙: 리비전 배열의 마지막 인덱스 데이터를 기본값으로 노출하는 것이 유리함.

오버레이 기능: relativeTo가 동일한 도면들을 한 화면에 z-index로 쌓아서 '공종 간 간섭 확인' 기능 구현 가능함.

변경 이력 시각화: revision.changes 배열의 문자열 데이터를 타임라인 형태로 표시하여 추적성 강화 가능함.